<div class="page-title" *ngIf="!isHome && pageTitle">
    <div class="container">
        <h1> {{ pageTitle }} </h1>
    </div>
</div>

<div *ngIf="isHome">
  <app-conversations></app-conversations>
  <br>
  <br>

  <app-home-slider></app-home-slider>
  <br>
  <br>
  <div class="container facebook-responsive">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/4GkSOTl-Nvc" frameborder="0" allowfullscreen></iframe>
  </div>
</div>

<div class="page-title" *ngIf="!isHome && !pageTitle && conversationLoaded">
  <div class="container">
    <h1>{{ 'conversation.title' | translate }} > {{ conversation.title }}</h1>
  </div>
</div>
<div *ngIf="!isHome && conversationLoaded" class="conversation">
  <h2 class="conversation-subtitle">{{ 'conversation.stage.opinion' | translate }}</h2>
  <div class="conversation-opinion-stage">{{ conversation.description }}</div>

  <div class="conversation-comments">
    <div class="comment-card" *ngIf="comment">
      <p class="comment-author">
        <img src="{{comment.author.image_url}}" alt="" />
        <span>{{ comment.author.name.length ? comment.author.name : comment.author.username }}</span>
      </p>
      <p class="comment-text">{{ comment.content }}</p>
      <ul class="comment-actions">
        <li (click)="vote(comment, 'agree')">{{ "conversation.vote.agree" | translate }}</li>
        <li (click)="vote(comment, 'pass')">{{ "conversation.vote.skip" | translate }}</li>
        <li (click)="vote(comment, 'disagree')">{{ "conversation.vote.disagree" | translate }}</li>
      </ul>
    </div>

    <div class="comment-card" *ngIf="!comment">
      <p class="comment-text">{{ "conversation.nocomments" | translate }}</p>
    </div>

    <div class="new-comment">
      <textarea [(ngModel)]="newCommentText" (click)="clearComment()" id="new-comment" placeholder="{{ 'conversation.newcomment' | translate }}"></textarea>
      <p class="comment-message">
        <span *ngIf="newCommentSuccess === null">&nbsp;</span>
        <span *ngIf="newCommentSuccess === true">{{ "conversation.newcommentsuccess" | translate }}</span>
        <span *ngIf="newCommentSuccess === false">{{ "conversation.newcommentfail" | translate }}</span>
      </p>
      <p><button (click)="sendComment()">{{ "conversation.addcomment" | translate }}</button></p>
    </div>
  </div>

  <div class="share-box">
    <p>{{ 'conversation.share' | translate }}</p>
    <share-buttons
      [linkedIn]=false
      [tumblr]=false
      [pinterest]=false
      [stumbleUpOn]=false
      [reddit]=false
      [title]="conversation.title"
      [description]="conversation.description"
    >
    </share-buttons>
  </div>
  <app-conversations></app-conversations>
</div>
