<div *ngIf="conversation" class="topic">
  <h1>{{'conversations.topic' | translate}} > <span>{{conversation.title}} - {{parserDate(conversation.created_at) | date:'MMMM/y'}} </span></h1>
</div>

<div *ngIf="conversation" class='conversation'>
  <div class="card">

    <div class="card-header">
      <div class="card-header-left">
        <div class="category">{{conversation.title}} </div>
        <div class="date">{{parserDate(conversation.created_at) | date:'MMMM/y'}} </div>
        <div class="votes">
          <img src="/assets/images/icons/votos_icon_black.svg" alt="{{'conversation.icon.votes' | translate}}" />
          <span class="number">
            {{(conversation.total_votes || 0 ) | number:'1.0'}}
          </span>
          {{'conversations.card.votes' | translate}}
        </div> 
        <div class="comments">
            <img src="/assets/images/icons/comentarios_icon_black.svg" alt="{{'conversation.icon.comments' | translate}}" />
          <span class="number">
            {{(conversation.total_approved_comments || 0) | number:'1.0'}}
          </span>
          {{'conversations.card.comments' | translate}}
        </div> 
      </div>

      <div class="card-header-right">
        <div class='social'>
            <img src="/assets/images/icons/facebook_icon.svg" alt="{{'conversation.social.facebook' | translate}}" />
            <img src="/assets/images/icons/twitter_icon.svg" alt="{{'conversation.social.facebook' | translate}}" />
            <img src="/assets/images/icons/google_icon.svg" alt="{{'conversation.social.facebook' | translate}}" />
        </div>
        <div class='participation'>
            <div class='profile'>
              <img onError="this.src='/assets/images/icons/profile_icon.svg'"[src]="profile.image" alt="{{'conversation.profile.image' | translate}}">                
            </div>
            <div class='container'>
              <div class='title'>
                {{'conversations.card.participation' | translate}}
              </div>  
              <progressbar class="progress-striped" [value]="ratio(conversation)" type="warning">
                {{ratio(conversation)}}%
              </progressbar>
            </div>
          </div>
      </div>
    </div>
    
    <!-- <div class="card-cover">
      <div class="card-cover-img">
        <img class="card-img" src="/assets/images/card-bg.jpg" alt="Card image cap">
      </div> -->
      
        <!-- <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p> -->
        <!-- <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p> -->
    <!-- </div> -->
            
    <div class="card-block">
      <div class='card-title'>
        <h2>{{conversation.description}}</h2>
      <!-- <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
        <a href="#" class="btn btn-primary">Go somewhere</a> -->
        <h3>{{'conversations.title' | translate}}</h3>
        <h4>{{'conversations.subtitle' | translate}}</h4>
      </div>
      <div class="comments">

      </div>
      <div class='dialog'>
        <h3 class='title'>{{'conversation.dialog' | translate }}</h3>
        <div class='content' [innerHTML]="conversation.dialog | safeHtml">
        </div>
      </div>
      <div class='response'>
        <h3 class='title'>
          <div>{{'conversation.response' | translate }}</div>
        </h3>
        <div class='content'>
            {{conversation.response}}
        </div>
      </div>
    </div>

  </div>
</div>